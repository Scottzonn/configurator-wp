(this["webpackJsonptrailer-redux"]=this["webpackJsonptrailer-redux"]||[]).push([[0],{31:function(e,t,n){},38:function(e,t,n){},57:function(e,t,n){e.exports=n(88)},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(25),i=n.n(c),l=n(3),o=n(5),s=n(13),d=n(6),u=n.n(d),m=n(12),p=n(49),v=n(14),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"});return n.format(e)}return"$"+Number(e).toLocaleString()},b=function e(t){var n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(e){return e.attributes?Object(v.a)({id:e.id},e.attributes):e};if(a(t))return t.map((function(t){return e(t)}));if(n(t)){for(var c in t=a(t.data)?Object(o.a)(t.data):n(t.data)?r(Object(v.a)({},t.data)):null===t.data?null:r(t))t[c]=e(t[c]);return t}return t},E=Object(s.b)("api/CallBegan"),g=(Object(s.b)("api/CallSuccess"),Object(s.b)("api/CallFailed"),function(e){var t=e.dispatch;return function(e){return function(){var n=Object(m.a)(u.a.mark((function n(a){var r,c,i,l,o,s,d,m,v,f;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(a.type),a.type===E.type){n.next=3;break}return n.abrupt("return",e(a));case 3:if(e(a),r=a.payload,c=r.url,i=r.graphQlQuery,l=r.data,o=r.onStart,s=r.onSuccess,d=r.onError,o&&t({type:o}),n.prev=6,m=void 0,i){n.next=12;break}return n.next=11,fetch(c,{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(l)});case 11:m=n.sent;case 12:if(!i){n.next=17;break}return v=new p.GraphQLClient(c,{}),n.next=16,v.request(i);case 16:m=n.sent;case 17:s&&m&&i&&(f=b(m),t({type:s,payload:f})),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(6),console.log("exception "+n.t0),d&&t({type:d,payload:n.t0.message});case 24:case"end":return n.stop()}}),n,null,[[6,20]])})));return function(e){return n.apply(this,arguments)}}()}}),h={productId:void 0,modelId:void 0,accessoryIds:[],customOptions:[]},y=Object(s.c)({name:"build",initialState:h,reducers:{setCustomOption:function(e,t){var n=e.customOptions.findIndex((function(e){return e.optionId===t.payload.optionId}));-1!==n?e.customOptions[n].optionSelectionId=t.payload.optionSelectionId:e.customOptions.push(t.payload)},addAccessory:function(e,t){e.accessoryIds.includes(t.payload)?console.log("Warning: Accessory already in build"):e.accessoryIds.push(t.payload)},setProduct:function(e,t){e.productId!==t.payload&&(e.modelId=void 0),e.productId=t.payload},setModel:function(e,t){e.modelId!==t.payload&&(e.accessoryIds=[]),e.modelId=t.payload},removeAccessory:function(e,t){var n=e.accessoryIds.indexOf(t.payload);if(n>-1){var a=e.accessoryIds.splice(n,1);console.log(a)}},buildPosted:function(){}}}),N=function(e,t){return function(n){return console.log("Webhook Call Start"),n(E({url:e,data:t}))}},O=y.actions,C=(O.setCustomOption,O.addAccessory),k=O.setProduct,S=O.setModel,j=O.removeAccessory,w=function(e){return e.build.accessoryIds},x=function(e){var t;return null===(t=e.catalog.products)||void 0===t?void 0:t.find((function(t){var n;return t.id===""+(null===(n=e.build)||void 0===n?void 0:n.productId)}))},_=function(e){var t,n;return null===(t=x(e))||void 0===t||null===(n=t.models)||void 0===n?void 0:n.find((function(t){return t.id===""+e.build.modelId}))},A=function(e){return e.build.accessoryIds.map((function(t){return e.catalog.accessories.find((function(e){return e.id===""+t}))}))},D=function(e){var t,n;return console.log(_(e)),null===(t=_(e))||void 0===t||null===(n=t.included_accessories)||void 0===n?void 0:n.map((function(t,n){return function(e,t){return e.catalog.accessories.find((function(e){return e.id===""+t}))}(e,t.id)}))},P=function(e){return{product:x(e),model:_(e),accessories:A(e)}},I=function(e){var t,n,a=null===(t=_(e))||void 0===t?void 0:t.featured_image,r=null===(n=x(e))||void 0===n?void 0:n.featured_image;return a||r},R=function(e){var t,n,a=(null===(t=x(e))||void 0===t?void 0:t.rrp)||0,r=(null===(n=_(e))||void 0===n?void 0:n.rrp)||0,c=A(e).reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.rrp)||0)}),0);return r?r+c:a||0},F=function(e){return e.catalog.customOptionPickers.map((function(t){return{name:t.option_name,selectedOption:(n=t.id,function(e){var t=e.build.customOptions.find((function(e){return e.optionId===n})),a=null===t||void 0===t?void 0:t.optionSelectionId;if(!e.catalog.customOptionPickersLoading){var r=e.catalog.customOptionPickers.find((function(e){return e.id===n}));return null===r||void 0===r?void 0:r.options.find((function(e){return e.id===a}))}})(e)};var n}))},V=function(e){return{product:x(e),model:_(e),accessories:A(e),image:I(e)}},q=y.reducer,L=Object(s.c)({name:"catalog",initialState:{loading:!1,accessoriesLoading:!1,customOptionPickersLoading:!1,products:[],accessories:[],accessoryCategories:[],customOptionPickers:[]},reducers:{customOptionPickersRequested:function(e,t){e.customOptionPickersLoading=!0},customOptionPickersReceived:function(e,t){t.payload.model&&(e.customOptionPickers=t.payload.model.other_options),e.customOptionPickersLoading=!1},accessoriesRequested:function(e,t){e.accessoriesLoading=!0},accessoriesReceived:function(e,t){e.accessoriesLoading=!1,e.accessories=t.payload.accessories},catalogRequested:function(e,t){e.loading=!0},catalogReceived:function(e,t){console.log(t.payload.products),e.products=t.payload.products,e.loading=!1},categoriesRequested:function(e,t){},categoriesReceived:function(e,t){e.accessoryCategories=t.payload.accessoryCategories}}}),B=function(e){return e.catalog.products},M=function(e){var t;return null===(t=e.catalog.products.find((function(t){return""+e.build.productId===t.id})))||void 0===t?void 0:t.models},z=function(e){return function(t){if(t.catalog.products&&0!==t.catalog.products.length)return t.catalog.products.reduce((function(t,n){var a,r=null===(a=n.models)||void 0===a?void 0:a.find((function(t){return console.log(typeof t.id,typeof e),t.id===""+e}));return r||t}),void 0)}},Q=function(e){return function(t){return t.catalog.accessories.find((function(t){return t.id===""+e}))}},T=function(e){return e.catalog.accessoryCategories},W=L.reducer,J=Object(s.c)({name:"company",initialState:{companies:[],loading:!1},reducers:{companiesReceived:function(e,t){e.companies=t.payload.dealersAndManufacturers,e.loading=!1},companiesRequested:function(e){e.loading=!0}}}),$=J.actions,Y=($.companiesReceived,$.companiesRequested,function(e){return e.companies.companies}),H=J.reducer,U=Object(s.c)({name:"customer",initialState:{},reducers:{updateDeliveryDetails:function(e,t){return Object(v.a)(Object(v.a)({},e),t.payload)},updateCustomerDetails:function(e,t){return Object(v.a)(Object(v.a)({},e),t.payload)},updateCustomerAddress:function(e,t){e.address=t.payload}}}),X=U.actions,Z=X.updateDeliveryDetails,G=X.updateCustomerDetails,K=X.updateCustomerAddress,ee=function(e){return e.customer},te=U.reducer,ne={loading:!1,settings:{webhook_url:void 0,require_user_contact_details_upfront:void 0,logo_light:{url:void 0}}},ae=Object(s.c)({name:"settings",initialState:ne,reducers:{settingsRequested:function(e,t){e.loading=!0},settingsReceived:function(e,t){e.settings=t.payload.settings,e.loading=!1}}}),re=function(e){return e.settings.settings},ce=ae.reducer,ie="Select Product",le="Select Model",oe="Your Details",se="Add Accessories",de="Delivery Details",ue="Your Address",me="Confirmation",pe="Product Details",ve="Model Details",fe="Add Accessories List",be="Accessory Details",Ee={builderStep:0,uiCurrentScreen:ie,uiScreenOrder:[ie,le,se,oe,de,ue,me],uiDisplayingDetailsForId:"0"},ge=Object(s.c)({name:"ui",initialState:Ee,reducers:{nextBuilderStep:function(e){e.builderStep<e.uiScreenOrder.length-1&&(e.builderStep++,e.uiCurrentScreen=e.uiScreenOrder[e.builderStep])},prevBuilderStep:function(e){e.builderStep>0&&(e.builderStep--,e.uiCurrentScreen=e.uiScreenOrder[e.builderStep])},setBuilderStep:function(e,t){e.builderStep=t.payload,e.uiCurrentScreen=e.uiScreenOrder[e.builderStep]},showModelDetailsScreen:function(e,t){e.uiCurrentScreen=ve,e.uiDisplayingDetailsForId=t.payload},showProductDetailsScreen:function(e,t){e.uiCurrentScreen=pe,e.uiDisplayingDetailsForId=t.payload},closeProductDetailsScreen:function(e){e.uiCurrentScreen=e.uiScreenOrder[e.builderStep]},closeModelDetailsScreen:function(e){e.uiCurrentScreen=e.uiScreenOrder[e.builderStep]},openSelectAccessoriesScreen:function(e){e.uiCurrentScreen=fe},closeSelectAccessoriesScreen:function(e){e.uiCurrentScreen=e.uiScreenOrder[e.builderStep]},showAccessoryDetailsScreen:function(e,t){e.uiCurrentScreen=be,e.uiDisplayingDetailsForId=t.payload},closeAccessoryDetailsScreen:function(e){e.uiCurrentScreen=e.uiScreenOrder[e.builderStep]}}}),he=ge.actions,ye=he.nextBuilderStep,Ne=he.prevBuilderStep,Oe=(he.setBuilderStep,he.showModelDetailsScreen),Ce=he.showProductDetailsScreen,ke=he.closeModelDetailsScreen,Se=he.closeProductDetailsScreen,je=he.openSelectAccessoriesScreen,we=he.closeSelectAccessoriesScreen,xe=he.showAccessoryDetailsScreen,_e=(he.closeAccessoryDetailsScreen,function(e){return e.ui.builderStep}),Ae=function(e){return e.ui.uiCurrentScreen},De=function(e){return e.ui.uiDisplayingDetailsForId},Pe=function(e){return e.ui.uiScreenOrder},Ie=ge.reducer,Re=Object(s.a)({reducer:{catalog:W,build:q,ui:Ie,settings:ce,customer:te,companies:H},middleware:[].concat(Object(o.a)(Object(s.d)()),[g])});Re.dispatch((function(e){return e(E({url:"https://camper-configurator-spw7u.ondigitalocean.app/graphql",graphQlQuery:'{\n    products(sort: "rrp") {\n      data {\n        id\n        attributes {\n          name\n          short_description\n          description\n          rrp\n          featured_image {\n            data{\n              id\n              attributes{\n                url\n                width\n                height\n              }\n            }\n          }\n          models(sort: "rrp") {\n            data{\n              id\n              attributes {\n                name\n                short_description\n                description\n                rrp\n                included_accessories{\n                  data {\n                    id\n                  }\n                }\n                slideshow_images{\n                  data{\n                    id\n                    attributes{\n                      url\n                    }\n                  }\n                }\n                featured_image{\n                  data {\n                    id \n                    attributes{\n                      url\n                    }\n                  }\n                }\n              }\n            }    \n          }\n        }     \n      }\n    }\n  }',onStart:L.actions.catalogRequested.type,onSuccess:L.actions.catalogReceived.type}))})),Re.dispatch((function(e){return e(E({url:"https://camper-configurator-spw7u.ondigitalocean.app/graphql",graphQlQuery:"{\n    accessories {\n      data {\n        id\n        attributes{\n          name\n          short_description\n          description\n          rrp\n          featured_image {\n            data{\n              attributes{\n            \t\turl    \n              }\n            }\n          }\n          accessory_categories{\n            data{\n              id\n              attributes{\n                name      \n              }\n            }\n          }\n          option_for {\n            data{\n            \tid  \n            }\n          }\n          included_in {\n            data {\n            \tid  \n            }\n          }        \n      }\n    }   \n  }\n}",onStart:L.actions.accessoriesRequested.type,onSuccess:L.actions.accessoriesReceived.type}))})),Re.dispatch((function(e){return e(E({url:"https://camper-configurator-spw7u.ondigitalocean.app/graphql",graphQlQuery:"{\n    dealersAndManufacturers {\n      data {\n        id\n        attributes{\n          name\n          address_line_1\n          address_line_2\n          phone\n          city\n          state\n          country\n          postcode\n          email\n          website_url\n          company_type\n          build_notifications_email\n        }\n      }\n    }\n  }",onStart:J.actions.companiesRequested.type,onSuccess:J.actions.companiesReceived.type}))})),Re.dispatch((function(e){return e(E({url:"https://camper-configurator-spw7u.ondigitalocean.app/graphql",graphQlQuery:"{\n    accessoryCategories {\n      data {\n      id \n      attributes {\n         name\n         accessories {\n          data {\n          \tid\n            attributes {\n              name\n              description\n              short_description\n              rrp\n              featured_image {\n                data{\n                  id\n                  attributes{\n                  \turl\n                    alternativeText\n                  }\n                }\n                \n              }\n              option_for {\n                data{\n                \tid\n                }\n                \n              }\n            }\n          }\n      }\n      }\n    }\n  }\n  }",onStart:L.actions.categoriesRequested.type,onSuccess:L.actions.categoriesReceived.type}))}));var Fe=n(8),Ve=n(10),qe=n.n(Ve),Le=n(37),Be=n(17);n(69),n(70),n(71);function Me(e){var t,n,a=Object(l.c)(Q(e.id));return r.a.createElement("div",{className:"accessory-details-sidebar"},(null===a||void 0===a||null===(t=a.featured_image)||void 0===t?void 0:t.url)&&r.a.createElement("img",{className:"accessory-detail-image",src:""+(null===a||void 0===a||null===(n=a.featured_image)||void 0===n?void 0:n.url),alt:""}),r.a.createElement("h3",null,null===a||void 0===a?void 0:a.name),(null===a||void 0===a?void 0:a.rrp)&&r.a.createElement("h5",null,"$",null===a||void 0===a?void 0:a.rrp),r.a.createElement("p",null,null===a||void 0===a?void 0:a.description))}n(72),n(73),n(74);var ze=r.a.createContext({openAccordionItem:0,setOpenAccordionItem:void 0});function Qe(e){var t=r.a.useState(0),n=Object(Fe.a)(t,2),a=n[0],c=n[1],i=r.a.Children.map(e.children,(function(e,t){if(r.a.isValidElement(e))return r.a.cloneElement(e,{index:t})}));return r.a.createElement(ze.Provider,{value:{openAccordionItem:a,setOpenAccordionItem:c}},r.a.createElement("div",{className:"sz-accordion"},i))}function Te(e){var t,n=Object(a.useRef)(null),c=Object(a.useContext)(ze),i=c.openAccordionItem,l=c.setOpenAccordionItem,o=e.index===i;return r.a.createElement("div",Object.assign({},e,{className:qe()("accordion-item",{open:o})}),r.a.createElement("div",{className:"accordion-item-header",onClick:function(){return l&&l(o?-1:e.index||0)}},r.a.createElement("h3",{className:"accordion-item-title"},e.title,e.showCount?" ("+r.a.Children.count(e.children)+")":""),r.a.createElement("div",{className:"svg-icon-container"},r.a.createElement(Be.e,null))),r.a.createElement("div",{className:"accordion-content-wrapper",style:o?{maxHeight:null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.scrollHeight}:{maxHeight:"0px"}},r.a.createElement("div",{className:"accordion-item-content",ref:n},e.children)))}n(75);function We(e){console.log(e.compact);var t,n,a=e.isAdded?r.a.createElement("span",{className:qe()("minicard-button-icon minicard-button-icon-added"),onClick:e.onRemoveClick},r.a.createElement("span",{className:"minicard-button-icon-remove"},r.a.createElement(Be.i,null)),r.a.createElement("span",{className:"minicard-button-icon-check"},r.a.createElement(Be.d,null))):r.a.createElement("span",{className:"minicard-button-icon minicard-button-icon-add",onClick:e.onAddClick},r.a.createElement(Be.a,null));return r.a.createElement("div",{className:qe()("minicard minicard-add-button-wrapper",{compact:e.compact})},r.a.createElement("div",{className:"minicard-add-button"},e.image&&r.a.createElement("div",{className:"minicard-button-thumb",onClick:e.onDetailsClick},r.a.createElement("img",{className:"minicard-thumb",src:""+e.image,alt:""})),r.a.createElement("div",{className:"minicard-button-info-wrapper"},r.a.createElement("div",{className:"minicard-button-label",title:e.title,onClick:e.onDetailsClick},r.a.createElement("span",{className:"minicard-button-title"},(t=e.title,n=64,t.length>n?t.substring(0,n)+"\u2026":t)),e.description&&r.a.createElement("span",{className:"minicard-button-subtitle"},e.description)),e.showAdd&&a,e.showChevron&&r.a.createElement("span",{className:"minicard-button-icon minicard-button-icon-more-info",onClick:e.onDetailsClick},r.a.createElement(Be.f,null)))))}function Je(e){var t=Object(l.c)(A),n=Object(l.c)(D),a=Object(l.b)(),c=t.map((function(t){return t&&r.a.createElement(We,{key:t.id,image:t.featured_image&&""+t.featured_image.url,onDetailsClick:function(){return e.onDetailsClick(t.id)},onAddClick:function(){return a(C(t.id))},onRemoveClick:function(){return a(j(t.id))},title:t.name,description:f(t.rrp||0),isAdded:!0,showAdd:!0})})),i=null===n||void 0===n?void 0:n.map((function(t){return t&&r.a.createElement(We,{key:t.id,image:t.featured_image&&""+t.featured_image.url,onDetailsClick:function(){return e.onDetailsClick(t.id)},onAddClick:function(){return a(C(t.id))},onRemoveClick:function(){return a(j(t.id))},title:t.name,description:t.rrp&&0!==t.rrp?f(t.rrp):void 0,isAdded:!0,compact:!0})}));return r.a.createElement("div",{className:qe()("accessories-accordion-container")},r.a.createElement("div",{className:"accessories-sidebar-header"},r.a.createElement("h3",null,"Your Accessories"),r.a.createElement("span",{className:"weak-label"},"Add accessories to create your perfect product")),r.a.createElement(Qe,null,r.a.createElement(Te,{title:"Optional Accessories ("+(null===c||void 0===c?void 0:c.length)+")"},r.a.createElement("button",{className:"primary-button accessory-add-new ",onClick:function(){return a(je())}},r.a.createElement(Be.a,null)," Add Accessories"),c),r.a.createElement(Te,{title:"Included Accessories ("+(null===i||void 0===i?void 0:i.length)+")"},i)))}function $e(){var e=Object(l.c)(I),t=Object(a.useState)(!1),n=Object(Fe.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)("1"),s=Object(Fe.a)(o,2),d=s[0],u=s[1];return r.a.createElement("div",{className:"accessories-section"},r.a.createElement("div",{className:"accessories-section-inner"},r.a.createElement("div",{className:"model-image-container"},r.a.createElement("img",{src:""+(null===e||void 0===e?void 0:e.url),alt:""})),r.a.createElement("div",{className:"sidebar accessories-sidebar"},r.a.createElement("div",{className:qe()("sidebar-menu-1",{active:!c})},r.a.createElement(Je,{onDetailsClick:function(e){return t=e,console.log("showing accessory "+t),i(!0),void u(t);var t}})),r.a.createElement("div",{className:qe()("sidebar-menu-2",{active:c})},r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return i(!1)}},r.a.createElement(Be.b,null)," Back"),r.a.createElement(Me,{id:d})))))}n(76),n(31);function Ye(e){return r.a.createElement("footer",{className:"wizard-footer"},e.showPrev&&r.a.createElement("button",{className:qe()("back-button  secondary-button",{disabled:!e.prevEnabled}),onClick:e.onPrevClick},e.prevLabel),e.showNext&&r.a.createElement("button",{className:qe()("primary-button ",{disabled:!e.nextEnabled}),onClick:e.onNextClick},e.nextLabel," ",r.a.createElement(Be.c,null)))}function He(){var e=Object(l.b)(),t=Object(l.c)(De),n=Object(l.c)(Q(t));return console.log("acc ",n),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"screen-inner-container accessory-details"},r.a.createElement("div",{className:"left-col"},n&&r.a.createElement("img",{src:n.featured_image&&""+n.featured_image.url,alt:""})),r.a.createElement("div",{className:"right-col"},r.a.createElement("h3",null,null===n||void 0===n?void 0:n.name),(null===n||void 0===n?void 0:n.rrp)&&r.a.createElement("h5",null,"$",null===n||void 0===n?void 0:n.rrp),r.a.createElement("p",null,null===n||void 0===n?void 0:n.description))),r.a.createElement(Ye,{onNextClick:function(){n&&e(C(n.id)),e(je())},onPrevClick:function(){e(je())},showNext:!0,showPrev:!0,prevEnabled:!0,nextEnabled:!0,nextLabel:"Add to Build ",prevLabel:"Back"}))}var Ue=n(27);n(38);function Xe(e){var t=Object(l.b)(),n=Object(Ue.a)(),c=n.register,i=n.getValues,o=n.triggerValidation;Object(a.useEffect)((function(){e.onValidChange(!1)}),[]);var s=function(){var n=Object(m.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(K(i())),n.next=3,o();case 3:a=n.sent,e.onValidChange(a);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onChange:s,className:"szForm"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Enter your address"),r.a.createElement("label",{htmlFor:"address-line-1"},r.a.createElement("span",{className:"label-text"},"Line 1"),r.a.createElement("input",{id:"address-line-1",name:"address-line-1",placeholder:"11 Smith St",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"address-line-2"},r.a.createElement("span",{className:"label-text"},"Line 2"),r.a.createElement("input",{id:"address-line-2",name:"address-line-2",placeholder:"",ref:c})),r.a.createElement("label",{htmlFor:"city"},r.a.createElement("span",{className:"label-text"},"City"),r.a.createElement("input",{id:"city",name:"city",placeholder:"Melbourne",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"country"},r.a.createElement("span",{className:"label-text"},"Country"),r.a.createElement("input",{id:"country",name:"country",defaultValue:"Australia",placeholder:"Australia",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"state"},r.a.createElement("span",{className:"label-text"},"State"),r.a.createElement("input",{id:"state ",name:"state",placeholder:"VIC",ref:c({required:!0})})))))}var Ze=n(50);n(77);function Ge(){var e=Object(l.c)(x),t=Object(l.c)(_),n=Object(l.c)(A),a=Object(l.c)(F).map((function(e){var t;return r.a.createElement("div",{key:e.name},r.a.createElement("span",null,e.name),r.a.createElement("span",null,null===(t=e.selectedOption)||void 0===t?void 0:t.option_name))})),c=(null===t||void 0===t?void 0:t.name)?null===t||void 0===t?void 0:t.name:null===e||void 0===e?void 0:e.name;return r.a.createElement("div",{className:"build-box"},r.a.createElement("div",{className:"build-box-left"},r.a.createElement("div",{className:"build-box-icon"},r.a.createElement(Ze.a,null)),r.a.createElement("div",{className:"build-box-text"},r.a.createElement("h3",{className:"build-box-title"},c||"Select Product"),r.a.createElement("span",{className:"build-box-accessories"},n.length," Accessories"))),r.a.createElement("div",{className:"build-box-price"},r.a.createElement("span",null,f(Object(l.c)(R)))),a)}function Ke(e){var t=Object(l.b)(),n=Object(Ue.a)({mode:"onChange"}),c=n.register,i=n.errors,o=n.getValues,s=n.triggerValidation;Object(a.useEffect)((function(){e.onValidChange(!1)}),[]);var d=function(){var n=Object(m.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(G(o())),n.next=3,s();case 3:a=n.sent,e.onValidChange(a);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onChange:d,className:"szForm"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Enter your contact details"),r.a.createElement("label",{htmlFor:"firstName"},r.a.createElement("span",{className:"label-text"},"First Name"),r.a.createElement("input",{id:"firstName",name:"firstName",placeholder:"John",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"surname"},r.a.createElement("span",{className:"label-text"},"Surname"),r.a.createElement("input",{id:"surname",name:"surname",placeholder:"Smith",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"phone"},r.a.createElement("span",{className:"label-text"},"Phone"),r.a.createElement("input",{id:"phone",name:"phone",placeholder:"0400 000 000",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"label-text"},"Email"),r.a.createElement("input",{id:"email",name:"email",placeholder:"your@email.com",ref:c({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Invalid email address"}})})),i.email&&r.a.createElement("span",null,i.email.message),r.a.createElement("label",{htmlFor:"postcode"},r.a.createElement("span",{className:"label-text"},"Postcode"),r.a.createElement("input",{id:"postcode ",name:"postcode",placeholder:"3000",ref:c({required:!0})})),r.a.createElement("label",{htmlFor:"newsletter",className:"no-bg"},r.a.createElement("input",{id:"newsletter",type:"checkbox",name:"newsletter",defaultChecked:!0,ref:c}),"Sign up for special offers and promotions"))))}function et(e){var t=Object(l.b)(),n=Object(l.c)(Y);console.log(n);var c,i=Object(Ue.a)({mode:"onChange",reValidateMode:"onChange"}),o=i.register,s=i.triggerValidation,d=i.getValues,p=Object(a.useState)(n[0].id),v=Object(Fe.a)(p,2),f=v[0],b=v[1],E=Object(l.c)((c=f,function(e){return e.companies.companies.find((function(e){return e.id===c}))}));Object(a.useEffect)((function(){e.onValidChange(!1)}),[]);var g=function(){var n=Object(m.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(Z(d())),b(d().dealer),n.next=4,s();case 4:a=n.sent,e.onValidChange(a);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onChange:g,className:"szForm"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Delivery Method"),r.a.createElement("label",{htmlFor:"delivery",className:"no-bg radio"},r.a.createElement("input",{id:"delivery",name:"deliverymethod",type:"radio",value:"delivery",ref:o}),r.a.createElement("span",{className:"label-text"},"Delivery")),r.a.createElement("label",{htmlFor:"pickup",className:"no-bg radio"},r.a.createElement("input",{id:"pickup",name:"deliverymethod",type:"radio",value:"pickup",ref:o({validate:function(){return""!==d().deliveryMethod}})}),r.a.createElement("span",{className:"label-text"},"Pick Up"))),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Choose your dealer"),r.a.createElement("select",{name:"dealer",id:"dealer",defaultValue:n[0].id,ref:o},n.map((function(e,t){return r.a.createElement("option",{value:null===e||void 0===e?void 0:e.id,key:t},null===e||void 0===e?void 0:e.state," - ",null===e||void 0===e?void 0:e.name," - ",null===e||void 0===e?void 0:e.city)}))))),E&&r.a.createElement("div",{className:"dealer-details-display"},r.a.createElement("h3",{className:"dealer-name"},null===E||void 0===E?void 0:E.name),r.a.createElement("span",{className:"dealer-phone"},null===E||void 0===E?void 0:E.address_line_1,", "),(null===E||void 0===E?void 0:E.address_line_2)&&r.a.createElement("span",{className:"dealer-address2"},null===E||void 0===E?void 0:E.address_line_2),r.a.createElement("span",{className:"dealer-city"},null===E||void 0===E?void 0:E.city),r.a.createElement("br",null),r.a.createElement("span",{className:"dealer-state"},null===E||void 0===E?void 0:E.state),r.a.createElement("br",null),r.a.createElement("span",{className:"dealer-country"},null===E||void 0===E?void 0:E.country),r.a.createElement("br",null),(null===E||void 0===E?void 0:E.phone)&&r.a.createElement("span",{className:"dealer-phone"},"Phone: ",null===E||void 0===E?void 0:E.phone,r.a.createElement("br",null)),r.a.createElement("span",{className:"dealer-website"},r.a.createElement("a",{href:null===E||void 0===E?void 0:E.website_url,target:"_blank",rel:"noopener noreferrer"},"Visit Website"))))}n(78);function tt(){var e,t=Object(l.c)(De),n=Object(l.c)(z(t)),a=Object(l.b)();return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"model-details-section"},r.a.createElement("div",{className:"model-image-container"},n&&r.a.createElement("img",{src:""+(null===n||void 0===n||null===(e=n.featured_image)||void 0===e?void 0:e.url),alt:""})),r.a.createElement("div",{className:"model-details"},r.a.createElement("h3",null,n&&(null===n||void 0===n?void 0:n.name)),r.a.createElement("h5",{className:"model-price"},(null===n||void 0===n?void 0:n.rrp)&&f(n.rrp)),r.a.createElement("p",null,n&&n.description))),r.a.createElement(Ye,{onNextClick:function(){a(ye())},onPrevClick:function(){a(ke())},showNext:!0,showPrev:!0,prevEnabled:!0,nextEnabled:!0,nextLabel:"Select "+(null===n||void 0===n?void 0:n.name)+" Model",prevLabel:"Back"}))}n(79);function nt(e){var t,n=Object(l.b)(),c=Object(l.c)(M),i=Object(l.c)(_),o=Object(l.c)(P),s=Object(l.c)(re);return Object(a.useEffect)((function(){(null===c||void 0===c?void 0:c.find((function(e){return e.id===(null===i||void 0===i?void 0:i.id)})))?e.onValidChange(!0):e.onValidChange(!1)})),c&&(t=c.map((function(t){var a,c;return r.a.createElement("div",{className:qe()("product",{selected:(null===i||void 0===i?void 0:i.id)===t.id}),key:t.id,onClick:function(){n(S(t.id)),console.log("called"),e.onValidChange(!0),(null===s||void 0===s?void 0:s.webhook_url)&&n(N(null===s||void 0===s?void 0:s.webhook_url,o))}},r.a.createElement("div",{className:"product-thumb-wrapper"},(null===(a=t.featured_image)||void 0===a?void 0:a.url)&&r.a.createElement("img",{className:"product-thumb",src:""+(null===(c=t.featured_image)||void 0===c?void 0:c.url),alt:t.name})),r.a.createElement("div",{className:"select-product-details"},r.a.createElement("h3",{className:"product-title"},t.name),r.a.createElement("p",{className:"product-short_description"},t.short_description),r.a.createElement("div",{className:"product-bottom-line"},t.rrp&&r.a.createElement("h4",{className:"product-price"},"Starts at ",f(t.rrp)),r.a.createElement("button",{className:"secondary-link text-button",onClick:function(){return n(Oe(t.id))}},"View Specs"))))}))),r.a.createElement("div",{className:"product-listing"},t)}var at=n(93);n(80);function rt(){var e,t=Object(l.c)(De),n=Object(l.c)(function(e){return function(t){if(t.catalog.products&&0!==t.catalog.products.length)return t.catalog.products.find((function(t){return console.log(typeof t.id,typeof e),t.id===e}));console.log("no prod found",t.catalog.products)}}(t)),a=Object(l.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"product-details-section"},r.a.createElement("div",{className:"model-image-container"},n&&r.a.createElement("img",{src:""+(null===n||void 0===n||null===(e=n.featured_image)||void 0===e?void 0:e.url),alt:""})),r.a.createElement("div",{className:"product-details"},r.a.createElement("h3",null,n&&(null===n||void 0===n?void 0:n.name)),r.a.createElement("h5",{className:"product-price"},(null===n||void 0===n?void 0:n.rrp)&&f(n.rrp)),r.a.createElement(at.a,null,(null===n||void 0===n?void 0:n.description)+""))),r.a.createElement(Ye,{onNextClick:function(){a(ye())},onPrevClick:function(){a(Se())},showNext:!0,showPrev:!0,prevEnabled:!0,nextEnabled:!0,nextLabel:"Select "+(null===n||void 0===n?void 0:n.name)+" Model",prevLabel:"Back"}))}n(83);function ct(e){var t,n=Object(l.b)(),c=Object(l.c)(B),i=Object(l.c)(x);return Object(a.useEffect)((function(){c.find((function(e){return e.id===(null===i||void 0===i?void 0:i.id)}))?e.onValidChange(!0):e.onValidChange(!1)})),c&&(t=c.map((function(e){var t,a;return r.a.createElement("div",{className:qe()("product",{selected:(null===i||void 0===i?void 0:i.id)===e.id}),key:e.id,onClick:function(){n(k(e.id))}},r.a.createElement("div",{className:"product-thumb-wrapper"},(null===(t=e.featured_image)||void 0===t?void 0:t.url)&&r.a.createElement("img",{className:"product-thumb",alt:e.name,src:null===(a=e.featured_image)||void 0===a?void 0:a.url})),r.a.createElement("div",{className:"select-product-details"},r.a.createElement("h3",{className:"product-title"},e.name),r.a.createElement("p",{className:"product-short_description"},e.short_description),r.a.createElement("div",{className:"product-bottom-line"},e.rrp&&r.a.createElement("h4",{className:"product-price"},"Starts at ",f(e.rrp)),r.a.createElement("button",{className:"primary-link text-button",onClick:function(){return n(Ce(e.id))}},"View Specs"))))}))),r.a.createElement("div",{className:"product-listing"},t)}n(84);function it(){var e=Object(l.c)(T),t=Object(l.c)(w),n=Object(l.b)();console.log(e);var a=e.map((function(e){console.log("cat");var a=e.accessories.map((function(e){return console.log("minicard"),r.a.createElement(We,{key:e.id,image:e.featured_image&&""+e.featured_image.url,onDetailsClick:function(){n(xe(e.id))},onAddClick:function(){return n(C(e.id))},onRemoveClick:function(){return n(j(e.id))},title:e.name,description:f(e.rrp||0),showChevron:!1,isAdded:void 0!==t.find((function(t){return t===e.id})),showAdd:!0})}));return r.a.createElement("div",{className:"accessory-category",key:e.id},r.a.createElement("h3",{className:"accessory-category-title"},e.name),r.a.createElement("div",{className:"accessory-category-content"},a))}),{});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:qe()("accessories-screen-inner-container screen-inner-container")},r.a.createElement("h2",{className:"screen-title"},"Add Accessories"),a),r.a.createElement(Ye,{onNextClick:function(){n(we())},onPrevClick:function(){n(we())},showNext:!0,showPrev:!0,prevEnabled:!0,nextEnabled:!0,nextLabel:"Done",prevLabel:"Back"}))}n(85);function lt(e){var t;return e.showBackButton&&(t=r.a.createElement("span",{className:"step-back",onClick:function(){return e.onBackClick&&e.onBackClick()}},"< "," ")),r.a.createElement("div",{className:qe()("step-title",{active:e.isActive})},t," ",r.a.createElement("h2",null,e.title))}function ot(e){var t=e.titles.map((function(t,n){return r.a.createElement(lt,{title:n+1+". "+t,isActive:t===e.activeStep,key:n})}));return r.a.createElement(r.a.Fragment,null,t)}n(86);function st(){var e=Object(l.c)(x),t=Object(l.c)(_),n=Object(l.c)(A),c=Object(l.c)(I),i=Object(a.useState)(!1),o=Object(Fe.a)(i,2),s=o[0],d=o[1],u=Object(v.a)(Object(v.a)({},Object(l.c)(V)),{},{customer:Object(l.c)(ee)});return r.a.createElement("div",{className:"thankyou-wrapper"},r.a.createElement("h1",{className:"h1"},"Thank you for your enquiry"),r.a.createElement("h3",{className:"thankyou-productname"},r.a.createElement("span",{className:"thankyou-prod-name"},null===e||void 0===e?void 0:e.name)," ",null===t||void 0===t?void 0:t.name),n.length>0&&r.a.createElement("span",{className:"thankyou-accessories"},"With ",n.length," Accessories"),r.a.createElement("div",{className:"thankyou-product-image"},r.a.createElement("img",{src:""+(null===c||void 0===c?void 0:c.url),alt:""})),r.a.createElement("div",{className:"thankyou-box-price"},"Total ",r.a.createElement("span",null,f(Object(l.c)(R)))),r.a.createElement("div",{className:"thankyou-buttons"},r.a.createElement("button",{className:qe()("outline-button secondary",{disabled:!0===s}),onClick:function(){var e;(d(!0),window.szReactPlugin&&!1===s)&&fetch(null===(e=window.szReactPlugin)||void 0===e?void 0:e.email_endpoint,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){e&&console.log(e)})).catch((function(e){console.error(e)}))}},r.a.createElement(Be.h,null)," ",r.a.createElement("span",null,"Email Me a Copy")),r.a.createElement("button",{className:"primary-button"},r.a.createElement(Be.g,null)," ",r.a.createElement("span",null,"Checkout"))))}window.szReactPlugin&&document.documentElement.style.setProperty("--accent-dark",window.szReactPlugin.accent_color);var dt=function(){var e=Object(l.c)(Ae),t=Object(l.c)(_e),n=Object(l.c)(Pe),c=Object(l.c)(V),i=Object(l.b)(),o=Object(Le.useTransition)(e,{from:{transform:"translateX(10%)",opacity:0},enter:{opacity:1,transform:"translateX(0%)"},leave:{opacity:0,transform:"translateX(-10%)"},config:Le.config.slow}),s=Object(a.useState)(!0),d=Object(Fe.a)(s,2),u=d[0],m=d[1],p=function(e){m(e)};return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"primary-container"},r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("h1",{className:"small-caps"},"Configure Your Camper"),r.a.createElement(Ge,null)),r.a.createElement("div",{className:"step-title-container"},r.a.createElement(ot,{titles:n,activeStep:e})),r.a.createElement("div",{className:"current-screen-container"},o((function(t,n,a){return r.a.createElement(Le.animated.div,{style:t,className:qe()("item",{active:n===e})},function(e){switch(e){case ie:return r.a.createElement(ct,{onValidChange:p});case le:return r.a.createElement(nt,{onValidChange:p});case se:return r.a.createElement($e,null);case oe:return r.a.createElement(Ke,{onValidChange:p});case de:return r.a.createElement(et,{onValidChange:p});case ue:return r.a.createElement(Xe,{onValidChange:p});case me:return r.a.createElement(st,null);case ve:return r.a.createElement(tt,null);case pe:return r.a.createElement(rt,null);case fe:return r.a.createElement(it,null);case be:return r.a.createElement(He,null)}}(n))}))),function(e){switch(e){case ie:case le:case se:case oe:case de:case ue:case me:return!0;default:return!1}}(e)&&r.a.createElement(Ye,{onNextClick:function(){var t,n;e!==oe&&e!==ue||!(null===(t=window.szReactPlugin)||void 0===t?void 0:t.webhook_url)||i(N(null===(n=window.szReactPlugin)||void 0===n?void 0:n.webhook_url,c));i(ye()),m(!0)},onPrevClick:function(){i(Ne()),m(!0)},showNext:t<n.length-1,showPrev:!0,prevEnabled:0!==t,nextEnabled:u,nextLabel:n[t+1],prevLabel:"Back"})))))};n(87),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Re},r.a.createElement(dt,null))),document.getElementById("sz-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.8aba0492.chunk.js.map